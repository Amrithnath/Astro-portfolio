---
// Component Imports
import MainHead from '../components/MainHead.astro';
import ThemeProvider from '../components/ThemeProvider.astro';
import ThemeSwitcher from '../components/ThemeSwitcher.astro';
import TerminalView from '../components/TerminalView.astro';
import ProfessionalView from '../components/ProfessionalView.astro';
import PersonalView from '../components/PersonalView.astro';
import {ViewTransitions} from "astro:transitions"
import { Image } from "astro:assets"
import heroImage from  "../assets/hero.jpg"
import heroImage2 from "../assets/hero-2.jpg"
import { getImage } from "astro:assets";
import myBackground from "../assets/mesh-gradient.jpg"
const optimizedBackground = await getImage({src: myBackground, format: 'avif'})

// Data Fetching: List all Markdown posts in the repo.
const projects = await Astro.glob('./project/**/*.md');

// Portfolio data that can be passed to all themes
const portfolioData = {
  title: "Amrithnath Vijayakumar",
  description: "Full-stack developer, gamer, and photographer",
  projects: projects,
  skills: ["React", "Node.js", "Python", "TypeScript", "Astro"],
  contact: {
    email: "hello@amrithnath.com",
    github: "github.com/amrithnath", 
    linkedin: "linkedin.com/in/amrithnath"
  }
};

// CSS Imports
import '../styles/theme-transitions.css';
import '../styles/terminal-theme.css';
import '../styles/professional-theme.css';
import '../styles/personal-theme.css';
---

<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Amrith's portfolio landing page">
        <ThemeProvider />
		<MainHead
			title="Amrithnath Vijayakumar - Website"
			description="Amrith: Developer, Gamer, and all around cool person..."
		/>
		<ViewTransitions/>
	</head>
	<body>
		<ThemeSwitcher />
		
		<!-- Terminal Theme -->
		<TerminalView 
			title={portfolioData.title}
			description={portfolioData.description}
			projects={portfolioData.projects}
			skills={portfolioData.skills}
			contact={portfolioData.contact}
		/>
		
		<!-- Professional Theme -->
		<ProfessionalView 
			title={portfolioData.title}
			description={portfolioData.description}
			projects={portfolioData.projects}
			contact={portfolioData.contact}
		/>
		
		<!-- Personal Theme (Original) -->
		<PersonalView 
			title="Amrithnath V"
			subtitle="The one and only site for"
			description="Lover of dogs, cats, roadtrips, and planes."
			projects={portfolioData.projects}
			heroImage={heroImage}
			heroImage2={heroImage2}
			backgroundImage={optimizedBackground.src}
		/>
	</body>
</html>
