---
import BaseLayout from '../layouts/BaseLayout.astro';
import Footer from '../components/Footer.astro';
import Nav from '../components/Nav.astro';
import LsOutput from '../components/LsOutput.astro';
import TerminalCommand from '../components/TerminalCommand.astro';
import CatOutput from '../components/CatOutput.astro';
import { portfolioData } from '../data/portfolio';

// Professional and Personal themes use the same content structure
const aboutContent = {
  title: "About Amrith",
  description: "Learn more about Amrithnath - Engineer, Gamer, Shutter bug, Musician, DIY enthusiast",
  bio: portfolioData.bio.long,
  image: {
    src: "https://images.unsplash.com/photo-1581977012607-4091712d36f9?auto=format&fit=crop&w=1400&h=350&q=75",
    alt: "About Amrith",
    width: 1400,
    height: 350
  },
  skills: portfolioData.skills,
  contact: portfolioData.contact
};

// About directory items for ls command
const aboutDirectoryItems = [
  {
    name: '.',
    isDirectory: true,
    isAccessible: true,
    size: 4096,
    date: 'Dec 12',
    time: '04:20'
  },
  {
    name: '..',
    isDirectory: true,
    isAccessible: true,
    size: 4096,
    date: 'Dec 12',
    time: '04:20'
  },
  {
    name: 'about.md',
    isDirectory: false,
    isAccessible: true,
    size: 2048,
    date: 'Dec 12',
    time: '04:20'
  },
  {
    name: 'skills.json',
    isDirectory: false,
    isAccessible: true,
    size: 1024,
    date: 'Dec 12',
    time: '04:20'
  },
  {
    name: 'contact.txt',
    isDirectory: false,
    isAccessible: true,
    size: 512,
    date: 'Dec 12',
    time: '04:20'
  },
  {
    name: 'images/',
    isDirectory: true,
    isAccessible: true,
    size: 4096,
    date: 'Dec 12',
    time: '04:20'
  }
];

// Markdown content for cat about.md
const aboutMarkdown = `
<div class="md-header"># About Amrithnath</div>

<div class="md-subheader">## Overview</div>
<div class="md-text">Engineer, Gamer, Shutter bug, Musician, DIY enthusiast working on adding more items to the list while rendering my life one frame a day.</div>

<div class="md-subheader">## Bio</div>
<div class="md-text">${portfolioData.bio.long}</div>

<div class="md-subheader">## Status</div>
<div class="md-text">This site is perpetually under construction.</div>

<div class="md-subheader">## Skills</div>
${Object.entries(portfolioData.skills).map(([category, skills]) => `
<div class="skill-section">
  <div class="md-subheader">### ${category}</div>
  ${skills.map(skill => `<div class="md-list-item">- ${skill}</div>`).join('')}
</div>
`).join('')}

<div class="md-subheader">## Contact</div>
<div class="md-list-item">- Email: <span class="contact-link">${portfolioData.contact.email}</span></div>
<div class="md-list-item">- GitHub: <span class="contact-link">${portfolioData.contact.github}</span></div>
<div class="md-list-item">- LinkedIn: <span class="contact-link">${portfolioData.contact.linkedin}</span></div>
`;
---

<BaseLayout title="About | Amrithnath" description="About Amrithnath - Engineer, Gamer, Musician, DIY enthusiast" currentPage="/about">
    <!-- Terminal Theme View -->
  <div class="terminal-view">
    <div class="terminal-container">
      <div class="terminal">
          <TerminalCommand command="cat about.md" />
          <div class="output">
            <CatOutput type="markdown" content={aboutMarkdown} />
          </div>
          
          <TerminalCommand command="ls -la ~/about/" />
          <div class="output">
            <LsOutput items={aboutDirectoryItems} totalSize={12} />
          </div>
          
          <div class="prompt">
            <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="cursor">_</span>
          </div>
        </div>
      </div>
    </div>

  <!-- Professional Theme View -->
  <div class="professional-view">
    <Nav />
    <main class="container">
      <h1>{aboutContent.title}</h1>
      <div class="hero-image">
        <img
          src={aboutContent.image.src}
          alt={aboutContent.image.alt}
          width={aboutContent.image.width}
          height={aboutContent.image.height}
        />
      </div>
      <div class="content">
        <section class="bio">
          <h2>About Me</h2>
          <p>Engineer, Gamer, Shutter bug, Musician, DIY enthusiast working on adding more items to the list while rendering my life one frame a day.</p>
          <p>{aboutContent.bio}</p>
          <p>This site is perpetually under construction.</p>
        </section>
        
        <section class="skills">
          <h2>Skills</h2>
          <div class="skills-grid">
            {Object.entries(aboutContent.skills).map(([category, skills]) => (
              <div class="skill-category">
                <h3>{category}</h3>
                <ul>
                  {skills.map(skill => <li>{skill}</li>)}
                </ul>
              </div>
            ))}
          </div>
        </section>
        
        <section class="contact">
          <h2>Contact</h2>
          <div class="contact-info">
            <p><strong>Email:</strong> {aboutContent.contact.email}</p>
            <p><strong>GitHub:</strong> {aboutContent.contact.github}</p>
            <p><strong>LinkedIn:</strong> {aboutContent.contact.linkedin}</p>
          </div>
        </section>
      </div>
    </main>
    <Footer />
  </div>

  <!-- Personal Theme View -->
  <div class="personal-view">
    <Nav />
    <div class="wrapper">
      <h1>{aboutContent.title}</h1>
      <div class="heroImg">
        <img
          width={aboutContent.image.width}
          height={aboutContent.image.height}
          src={aboutContent.image.src}
          alt={aboutContent.image.alt}
        />
      </div>
      <div class="bio wrapper">
        <p>Engineer, Gamer, Shutter bug, Musician, DIY enthusiast working on adding more items to the list while rendering my life one frame a day.</p>
        <p>{aboutContent.bio}</p>
        <p>This site is perpetually under construction.</p>
      </div>
    </div>
    <Footer />
  </div>
</BaseLayout>

<style>
  /* Professional Theme Styles */
  .theme-professional .professional-view .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
  }
  
  .theme-professional .professional-view .hero-image {
    max-height: 24rem;
    overflow: hidden;
    border-radius: 8px;
    margin: 2rem 0;
  }
  
  .theme-professional .professional-view .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .theme-professional .professional-view .content {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .theme-professional .professional-view .bio,
  .theme-professional .professional-view .skills,
  .theme-professional .professional-view .contact {
    margin: 3rem 0;
  }
  
  .theme-professional .professional-view .skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 1rem;
  }
  
  .theme-professional .professional-view .skill-category h3 {
    color: var(--pro-accent);
    margin-bottom: 0.5rem;
  }
  
  .theme-professional .professional-view .skill-category ul {
    list-style: none;
    padding: 0;
  }
  
  .theme-professional .professional-view .skill-category li {
    background: var(--pro-bg-secondary);
    padding: 0.5rem;
    margin: 0.25rem 0;
    border-radius: 4px;
    border-left: 4px solid var(--pro-accent);
  }

  /* Personal Theme Styles */
  .theme-personal .personal-view .wrapper {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 2rem;
  }
  
  .theme-personal .personal-view .heroImg {
    border-radius: 12px;
    overflow: hidden;
    margin: 2rem 0;
    max-height: 350px;
  }
  
  .theme-personal .personal-view .heroImg img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .theme-personal .personal-view .bio {
    max-width: 800px;
    margin: 3rem auto;
    line-height: 1.7;
  }

  /* Terminal Theme - Hide in other themes */
  .theme-professional .terminal-view,
  .theme-personal .terminal-view {
    display: none !important;
  }
  
  .theme-terminal .professional-view,
  .theme-terminal .personal-view {
    display: none !important;
  }
</style> 