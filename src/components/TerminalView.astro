---
import LsOutput from './LsOutput.astro';
import TerminalNav from './TerminalNav.astro';
import { homeDirectoryItems, getProjectItems } from '../data/navigation.ts';

// Terminal Theme View Component
export interface Props {
  title?: string;
  description?: string;
  projects?: any[];
  skills?: string[];
  contact?: {
    email?: string;
    github?: string;
    linkedin?: string;
  };
}

const { 
  title = "Amrithnath Vijayakumar", 
  description = "Full-stack developer, gamer, and photographer",
  projects = [],
  skills = [],
  contact = {}
} = Astro.props;

const projectItems = getProjectItems(projects);
---

<div class="terminal-view">
  <div class="terminal-container">
    <div class="window">

      <TerminalNav />
      <div class="terminal">
        
        <!-- System Info -->
        <div class="command-output">Last login: {new Date().toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' })} on ttys000</div>
        
        <!-- Welcome Section -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">whoami</span>
        </div>
        <div class="output">
          <div class="command-output">amrith</div>
        </div>
        
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">whereis amrith</span>
        </div>
        <div class="output">
          <div class="command-output">amrith: /home/amrith /usr/local/bangalore /usr/share/india</div>
        </div>
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">cat .banner</span>
        </div>
        <div class="output">
          <div class="ascii-art">
╔═══════════════════════════════════════╗
║          AMRITHNATH VIJAYAKUMAR       ║
║     Full-Stack Developer & Creator    ║
╚═══════════════════════════════════════╝
          </div>
        </div>

        <!-- About Section -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">cat about.json</span>
        </div>
        <div class="output">
          <div class="json-output">
<span class="json-brace">&#123;</span>
  <span class="json-key">"name"</span>: <span class="json-string">"{title}"</span>,
  <span class="json-key">"role"</span>: <span class="json-string">"Full-Stack Developer"</span>,
  <span class="json-key">"description"</span>: <span class="json-string">"{description}"</span>,
  <span class="json-key">"interests"</span>: [<span class="json-string">"💻 Coding"</span>, <span class="json-string">"🎮 Gaming"</span>, <span class="json-string">"📸 Photography"</span>, <span class="json-string">"✈️ Travel"</span>],
  <span class="json-key">"status"</span>: <span class="json-string">"Available for new opportunities"</span>
<span class="json-brace">&#125;</span>
          </div>
        </div>

        <!-- Navigation Commands -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">ls -la</span>
        </div>
        <div class="output">
          <LsOutput items={homeDirectoryItems} />
        </div>

        <!-- Skills Section -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">tree skills/</span>
        </div>
        <div class="output">
          <div class="tree-output">skills/
├── <span class="tree-dir">frontend/</span>
│   ├── <span class="tree-file">javascript.js</span>
│   ├── <span class="tree-file">typescript.ts</span>
│   ├── <span class="tree-file">react.jsx</span>
│   ├── <span class="tree-file">nextjs.js</span>
│   ├── <span class="tree-file">astro.astro</span>
│   └── <span class="tree-file">vue.vue</span>
├── <span class="tree-dir">backend/</span>
│   ├── <span class="tree-file">nodejs.js</span>
│   ├── <span class="tree-file">python.py</span>
│   ├── <span class="tree-file">django.py</span>
│   ├── <span class="tree-file">express.js</span>
│   └── <span class="tree-file">fastapi.py</span>
├── <span class="tree-dir">database/</span>
│   ├── <span class="tree-file">postgresql.sql</span>
│   ├── <span class="tree-file">mongodb.js</span>
│   ├── <span class="tree-file">redis.conf</span>
│   └── <span class="tree-file">sqlite.db</span>
└── <span class="tree-dir">devops/</span>
    ├── <span class="tree-file">docker.yml</span>
    ├── <span class="tree-file">aws.tf</span>
    ├── <span class="tree-file">cicd.yml</span>
    ├── <span class="tree-file">git.config</span>
    └── <span class="tree-file">vercel.json</span>

4 directories, 20 files</div>
        </div>

        <!-- Projects Section -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~/projects</span><span class="symbol">$</span><span class="command">ls -lta</span>
        </div>
        <div class="output">
          <LsOutput items={projectItems} totalSize={24} />
        </div>

        <!-- Contact Section -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">cat contact.json</span>
        </div>
        <div class="output">
          <div class="json-output">
<span class="json-brace">&#123;</span>
  <span class="json-key">"email"</span>: <span class="json-string">"{contact.email || 'hello@amrithnath.com'}"</span>,
  <span class="json-key">"github"</span>: <span class="json-string">"{contact.github || 'github.com/amrithnath'}"</span>,
  <span class="json-key">"linkedin"</span>: <span class="json-string">"{contact.linkedin || 'linkedin.com/in/amrithnath'}"</span>,
  <span class="json-key">"website"</span>: <span class="json-string">"amrithnath.com"</span>
<span class="json-brace">&#125;</span>
          </div>
        </div>

        <!-- System Status -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">uptime</span>
        </div>
        <div class="output">
          <div class="command-output">14:30  up 365 days, 12:45, 1 user, load averages: 0.52 0.48 0.51</div>
        </div>

        <!-- System Information -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">uname -a</span>
        </div>
        <div class="output">
          <div class="command-output">Darwin portfolio.local 24.2.0 Darwin Kernel Version 24.2.0: Fri Dec  6 18:51:28 PST 2024; root:xnu-11215.61.5~2/RELEASE_ARM64_T6000 arm64 M1 Pro</div>
        </div>
        
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">cat .ghostty</span>
        </div>
        <div class="output">
          <div class="command-output"># Ghostty Terminal Configuration
# Fast, feature-rich terminal emulator
# Using Catppuccin Mocha theme
theme = "catppuccin-mocha"
font-family = "JetBrains Mono"
font-size = 14</div>
        </div>
        
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="command">echo "Thanks for visiting! 🚀"</span>
        </div>
        <div class="output">
          <div class="command-output">Thanks for visiting! 🚀</div>
        </div>

        <!-- Interactive Prompt -->
        <div class="prompt">
          <span class="user">amrith</span><span class="symbol">@</span><span class="host">portfolio</span><span class="symbol">:</span><span class="path">~</span><span class="symbol">$</span><span class="cursor">█</span>
        </div>
      </div>
    </div>
  </div>
</div> 